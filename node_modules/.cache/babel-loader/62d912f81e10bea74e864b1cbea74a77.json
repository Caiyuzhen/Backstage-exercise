{"ast":null,"code":"//封装获取请求响应数据的方法\nimport axios from \"axios\";\nimport { getToken } from \"./token\"; //封装 axios\n//第一步：实例化\n\nconst http = axios.create({\n  baseURL: 'http://geek.itheima.net/v1_0',\n  //请求地址\n  timeout: 5000 //5s后超时\n\n}); //第二步：请求拦截器\n\nhttp.interceptors.request.use(config => {\n  //**\n  const token = getToken();\n\n  if (tiken) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n}, error => {\n  return Promise.reject(error);\n}); //第三步：响应拦截器\n\nhttp.interceptors.response.use(response => {\n  //成功响应 200~300 的状态码时，执行下面的回调函数\n  return response.data;\n}, error => {\n  //当超出 200~300 的状态码时，执行下面的回调函数\n  return Promise.reject(error);\n});\nexport { http };","map":{"version":3,"names":["axios","getToken","http","create","baseURL","timeout","interceptors","request","use","config","token","tiken","headers","Authorization","error","Promise","reject","response","data"],"sources":["/Users/zen/Desktop/Backstage-exercise/src/utils/http.js"],"sourcesContent":["//封装获取请求响应数据的方法\nimport axios from \"axios\";\nimport  { getToken } from \"./token\"\n\n\n\n//封装 axios\n\n//第一步：实例化\nconst http = axios.create(\n\t{\n\t\tbaseURL: 'http://geek.itheima.net/v1_0', //请求地址\n\t\ttimeout:5000 //5s后超时\n\t}\n)\n\n//第二步：请求拦截器\nhttp.interceptors.request.use((config)=>{\n\t//**\n\tconst token = getToken()\n\t\n\tif(tiken){\n\t\tconfig.headers.Authorization = `Bearer ${token}`\n\t}\n\n\treturn config\n},(error)=> {\n\treturn Promise.reject(error)\n})\n\n\n//第三步：响应拦截器\nhttp.interceptors.response.use((response)=>{\n\t//成功响应 200~300 的状态码时，执行下面的回调函数\n\treturn response.data\n},(error)=>{//当超出 200~300 的状态码时，执行下面的回调函数\n\treturn Promise.reject(error)\n})\n\n\nexport { http }"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAUC,QAAV,QAA0B,SAA1B,C,CAIA;AAEA;;AACA,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CACZ;EACCC,OAAO,EAAE,8BADV;EAC0C;EACzCC,OAAO,EAAC,IAFT,CAEc;;AAFd,CADY,CAAb,C,CAOA;;AACAH,IAAI,CAACI,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA+BC,MAAD,IAAU;EACvC;EACA,MAAMC,KAAK,GAAGT,QAAQ,EAAtB;;EAEA,IAAGU,KAAH,EAAS;IACRF,MAAM,CAACG,OAAP,CAAeC,aAAf,GAAgC,UAASH,KAAM,EAA/C;EACA;;EAED,OAAOD,MAAP;AACA,CATD,EASGK,KAAD,IAAU;EACX,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CAXD,E,CAcA;;AACAZ,IAAI,CAACI,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CAAgCS,QAAD,IAAY;EAC1C;EACA,OAAOA,QAAQ,CAACC,IAAhB;AACA,CAHD,EAGGJ,KAAD,IAAS;EAAC;EACX,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CALD;AAQA,SAASZ,IAAT"},"metadata":{},"sourceType":"module"}