{"ast":null,"code":"//Â∞ÅË£ÖËé∑ÂèñËØ∑Ê±ÇÂìçÂ∫îÊï∞ÊçÆÁöÑÊñπÊ≥ï\nimport axios from \"axios\";\nimport { getToken } from \"./token\"; //Â∞ÅË£Ö axios\n//Á¨¨‰∏ÄÊ≠•ÔºöÂÆû‰æãÂåñ\n\nconst http = axios.create({\n  baseURL: 'http://geek.itheima.net/v1_0',\n  //ËØ∑Ê±ÇÂú∞ÂùÄ\n  timeout: 5000 //5sÂêéË∂ÖÊó∂\n\n}); //Á¨¨‰∫åÊ≠•ÔºöËØ∑Ê±ÇÊã¶Êà™Âô®\n\nhttp.interceptors.request.use(config => {\n  //üî•üî•Â¶ÇÊûúÊú¨Âú∞Â∑≤ÁªèÊúâ tokenÔºåÂàôÁõ¥Êé•Ê≥®ÂÖ•Êú¨Âú∞ÁöÑ token \n  const token = getToken();\n\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n}, error => {\n  return Promise.reject(error);\n}); //Á¨¨‰∏âÊ≠•ÔºöÂìçÂ∫îÊã¶Êà™Âô®\n\nhttp.interceptors.response.use(response => {\n  //ÊàêÂäüÂìçÂ∫î 200~300 ÁöÑÁä∂ÊÄÅÁ†ÅÊó∂ÔºåÊâßË°å‰∏ãÈù¢ÁöÑÂõûË∞ÉÂáΩÊï∞\n  return response.data;\n}, error => {\n  //ÂΩìË∂ÖÂá∫ 200~300 ÁöÑÁä∂ÊÄÅÁ†ÅÊó∂ÔºåÊâßË°å‰∏ãÈù¢ÁöÑÂõûË∞ÉÂáΩÊï∞\n  return Promise.reject(error);\n});\nexport { http };","map":{"version":3,"names":["axios","getToken","http","create","baseURL","timeout","interceptors","request","use","config","token","headers","Authorization","error","Promise","reject","response","data"],"sources":["/Users/zen/Desktop/Backstage-exercise/src/utils/http.js"],"sourcesContent":["//Â∞ÅË£ÖËé∑ÂèñËØ∑Ê±ÇÂìçÂ∫îÊï∞ÊçÆÁöÑÊñπÊ≥ï\nimport axios from \"axios\";\nimport  { getToken } from \"./token\"\n\n\n\n//Â∞ÅË£Ö axios\n\n//Á¨¨‰∏ÄÊ≠•ÔºöÂÆû‰æãÂåñ\nconst http = axios.create(\n\t{\n\t\tbaseURL: 'http://geek.itheima.net/v1_0', //ËØ∑Ê±ÇÂú∞ÂùÄ\n\t\ttimeout:5000 //5sÂêéË∂ÖÊó∂\n\t}\n)\n\n//Á¨¨‰∫åÊ≠•ÔºöËØ∑Ê±ÇÊã¶Êà™Âô®\nhttp.interceptors.request.use((config)=>{\n\t//üî•üî•Â¶ÇÊûúÊú¨Âú∞Â∑≤ÁªèÊúâ tokenÔºåÂàôÁõ¥Êé•Ê≥®ÂÖ•Êú¨Âú∞ÁöÑ token \n\tconst token = getToken()\n\t\n\tif(token){\n\t\tconfig.headers.Authorization = `Bearer ${token}`\n\t}\n\n\treturn config\n\t},(error)=> {\n\t\treturn Promise.reject(error)\n})\n\n\n//Á¨¨‰∏âÊ≠•ÔºöÂìçÂ∫îÊã¶Êà™Âô®\nhttp.interceptors.response.use((response)=>{\n\t//ÊàêÂäüÂìçÂ∫î 200~300 ÁöÑÁä∂ÊÄÅÁ†ÅÊó∂ÔºåÊâßË°å‰∏ãÈù¢ÁöÑÂõûË∞ÉÂáΩÊï∞\n\treturn response.data\n},(error)=>{//ÂΩìË∂ÖÂá∫ 200~300 ÁöÑÁä∂ÊÄÅÁ†ÅÊó∂ÔºåÊâßË°å‰∏ãÈù¢ÁöÑÂõûË∞ÉÂáΩÊï∞\n\treturn Promise.reject(error)\n})\n\n\nexport { http }"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAUC,QAAV,QAA0B,SAA1B,C,CAIA;AAEA;;AACA,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CACZ;EACCC,OAAO,EAAE,8BADV;EAC0C;EACzCC,OAAO,EAAC,IAFT,CAEc;;AAFd,CADY,CAAb,C,CAOA;;AACAH,IAAI,CAACI,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA+BC,MAAD,IAAU;EACvC;EACA,MAAMC,KAAK,GAAGT,QAAQ,EAAtB;;EAEA,IAAGS,KAAH,EAAS;IACRD,MAAM,CAACE,OAAP,CAAeC,aAAf,GAAgC,UAASF,KAAM,EAA/C;EACA;;EAED,OAAOD,MAAP;AACC,CATF,EASII,KAAD,IAAU;EACX,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAXD,E,CAcA;;AACAX,IAAI,CAACI,YAAL,CAAkBU,QAAlB,CAA2BR,GAA3B,CAAgCQ,QAAD,IAAY;EAC1C;EACA,OAAOA,QAAQ,CAACC,IAAhB;AACA,CAHD,EAGGJ,KAAD,IAAS;EAAC;EACX,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CALD;AAQA,SAASX,IAAT"},"metadata":{},"sourceType":"module"}