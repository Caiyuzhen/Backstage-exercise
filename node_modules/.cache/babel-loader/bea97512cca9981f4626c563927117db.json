{"ast":null,"code":"//封装获取请求响应数据的方法\nimport axios from \"axios\";\nimport { getToken } from \"./token\"; //封装 axios\n//第一步：实例化\n\nconst http = axios.create({\n  baseURL: 'http://geek.itheima.net/v1_0',\n  //请求地址\n  timeout: 5000 //5s后超时\n\n}); //第二步：请求拦截器\n\nhttp.interceptors.request.use(config => {\n  //**\n  const token = getToken();\n\n  if (tiken) {}\n\n  return config;\n}, error => {\n  return Promise.reject(error);\n}); //第三步：响应拦截器\n\nhttp.interceptors.response.use(response => {\n  //成功响应 200~300 的状态码时，执行下面的回调函数\n  return response.data;\n}, error => {\n  //当超出 200~300 的状态码时，执行下面的回调函数\n  return Promise.reject(error);\n});\nexport { http };","map":{"version":3,"names":["axios","getToken","http","create","baseURL","timeout","interceptors","request","use","config","token","tiken","error","Promise","reject","response","data"],"sources":["/Users/zen/Desktop/Backstage-exercise/src/utils/http.js"],"sourcesContent":["//封装获取请求响应数据的方法\nimport axios from \"axios\";\nimport  { getToken } from \"./token\"\n\n\n\n//封装 axios\n\n//第一步：实例化\nconst http = axios.create(\n\t{\n\t\tbaseURL: 'http://geek.itheima.net/v1_0', //请求地址\n\t\ttimeout:5000 //5s后超时\n\t}\n)\n\n//第二步：请求拦截器\nhttp.interceptors.request.use((config)=>{\n//**\nconst token = getToken()\n\nif(tiken){\n\t\n}\n\n\treturn config\n},(error)=> {\n\treturn Promise.reject(error)\n})\n\n\n//第三步：响应拦截器\nhttp.interceptors.response.use((response)=>{\n\t//成功响应 200~300 的状态码时，执行下面的回调函数\n\treturn response.data\n},(error)=>{//当超出 200~300 的状态码时，执行下面的回调函数\n\treturn Promise.reject(error)\n})\n\n\nexport { http }"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAUC,QAAV,QAA0B,SAA1B,C,CAIA;AAEA;;AACA,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CACZ;EACCC,OAAO,EAAE,8BADV;EAC0C;EACzCC,OAAO,EAAC,IAFT,CAEc;;AAFd,CADY,CAAb,C,CAOA;;AACAH,IAAI,CAACI,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA+BC,MAAD,IAAU;EACxC;EACA,MAAMC,KAAK,GAAGT,QAAQ,EAAtB;;EAEA,IAAGU,KAAH,EAAS,CAER;;EAEA,OAAOF,MAAP;AACA,CATD,EASGG,KAAD,IAAU;EACX,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CAXD,E,CAcA;;AACAV,IAAI,CAACI,YAAL,CAAkBS,QAAlB,CAA2BP,GAA3B,CAAgCO,QAAD,IAAY;EAC1C;EACA,OAAOA,QAAQ,CAACC,IAAhB;AACA,CAHD,EAGGJ,KAAD,IAAS;EAAC;EACX,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CALD;AAQA,SAASV,IAAT"},"metadata":{},"sourceType":"module"}